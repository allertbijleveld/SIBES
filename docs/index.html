<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package for working with SIBES • SIBES</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Package for working with SIBES">
<meta property="og:description" content="Tools for loading, processing, and exploring SIBES-data.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">SIBES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/allertbijleveld/SIBES/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="basic-instructions-for-working-with-sibes">Basic instructions for working with SIBES<a class="anchor" aria-label="anchor" href="#basic-instructions-for-working-with-sibes"></a>
</h1></div>
<p>Léon Serre-Fredj and Allert Bijleveld 30/07/2024</p>
<!-- README.md is generated from README.Rmd. Please edit that file -->
</div>
<div class="section level1">
<h1 id="sibes">SIBES<a class="anchor" aria-label="anchor" href="#sibes"></a>
</h1>
<p>SIBES stands for Synoptic Intertidal BEnthic Survey. The goal of the <em>SIBES</em>-package is to conveniently load, process, and explore SIBES-data on abundance, biomass, median grain size and mud content. The basic workflow is covered in this readme document and illustrated with this flowchart:</p>
<figure><img src="/reference/figures/flow_chart_SIBES.png" alt="flowchart"><figcaption aria-hidden="true">
flowchart
</figcaption></figure>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>You can install the latest version of SIBES from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/allertbijleveld/SIBES"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="download-the-data">Download the data<a class="anchor" aria-label="anchor" href="#download-the-data"></a>
</h1>
<p>Data will be available via open access after publication of the accompanying data paper. Now, the data can be downloaded here: <a href="https://doi.org/10.25850/nioz/7b.b.ug" class="external-link uri">https://doi.org/10.25850/nioz/7b.b.ug</a></p>
<p>Data are available after a three-year embargo or earlier upon request. The data come in three ‘csv’ files containing (1) metadata of sampling stations and sediment characteristics (‘samples.csv’), (2) species found on the mudflats of the Dutch Wadden Sea (‘species.csv’), and (3) biomass and abundance per species per sample station (‘biota.csv’).</p>
</div>
<div class="section level1">
<h1 id="loading-the-package-and-data">Loading the package and data<a class="anchor" aria-label="anchor" href="#loading-the-package-and-data"></a>
</h1>
<p>All three SIBES csv-files can be conveniently loaded with the function <em>sibes_load</em>. By providing the folder containing the three csv-files, this function loads the SIBES data into a list containing three data frames (‘biota’,‘species’,‘samples’). If the names of the downloaded csv-files have been modified, these can be provided with arguments.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/allertbijleveld/SIBES" class="external-link">SIBES</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## load the three SIBES-csv files from a folder</span></span>
<span>    <span class="co"># data_list &lt;- sibes_load(directory_path = '')</span></span>
<span></span>
<span><span class="co">## for convenience, load the example dataset provided within the package</span></span>
<span>    <span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="st">'SIBES_dataset'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="species-exploration">Species exploration<a class="anchor" aria-label="anchor" href="#species-exploration"></a>
</h1>
<p>To conveniently search for species, <em>sibes_species_search</em> allows either to browse the species based on part of a species name or id.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## browse the list of species available</span></span>
<span>    <span class="fu"><a href="reference/sibes_species_search.html">sibes_species_search</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">[[</span><span class="st">"species"</span><span class="op">]</span><span class="op">]</span>, Key<span class="op">=</span><span class="st">'39'</span><span class="op">)</span>          <span class="co"># using sibes_id</span></span>
<span>    <span class="fu"><a href="reference/sibes_species_search.html">sibes_species_search</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">[[</span><span class="st">"species"</span><span class="op">]</span><span class="op">]</span>, Key<span class="op">=</span><span class="st">'57|34|67'</span><span class="op">)</span>    <span class="co"># multiple ids</span></span>
<span>    <span class="fu"><a href="reference/sibes_species_search.html">sibes_species_search</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">[[</span><span class="st">"species"</span><span class="op">]</span><span class="op">]</span>, Key<span class="op">=</span><span class="st">'aren'</span><span class="op">)</span>        <span class="co"># using part of the name    </span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="species-selection">Species selection<a class="anchor" aria-label="anchor" href="#species-selection"></a>
</h1>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## data can be selected with the search function, which </span></span>
<span><span class="co">## could be convenient for selecting multiple species</span></span>
<span>    <span class="co"># data_list[['biota']] &lt;- sibes_species_search(</span></span>
<span>    <span class="co">#                           data_list[['biota']], </span></span>
<span>    <span class="co">#                           Key='39') # also includes sibes_id 339</span></span>
<span></span>
<span><span class="co">## select only one species </span></span>
<span>    <span class="va">data_list</span><span class="op">[[</span><span class="st">'biota'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sibes_select.html">sibes_select</a></span><span class="op">(</span></span>
<span>                            data <span class="op">=</span> <span class="va">data_list</span><span class="op">[[</span><span class="st">'biota'</span><span class="op">]</span><span class="op">]</span>, </span>
<span>                            filters <span class="op">=</span> <span class="st">"sibes_id == 45"</span> </span>
<span>                            <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="aggregating-data-per-sampling-station">Aggregating data per sampling station<a class="anchor" aria-label="anchor" href="#aggregating-data-per-sampling-station"></a>
</h1>
<p>If more than one species is present within biota, it needs to be aggregated per sampling station. In this example, it is not necessary because we only selected one species in the previous step (<em>sibes_id == 45</em>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## aggregate the species data into biota</span></span>
<span>    <span class="va">data_list</span><span class="op">[[</span><span class="st">'biota'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">data_list</span><span class="op">[[</span><span class="st">'biota'</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sample_id</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>                                abundance_m2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">abundance_m2</span><span class="op">)</span>, </span>
<span>                                afdm_m2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">afdm_m2</span><span class="op">)</span></span>
<span>                                <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="merge-biota-and-samples">Merge ‘biota’ and ‘samples’<a class="anchor" aria-label="anchor" href="#merge-biota-and-samples"></a>
</h1>
<p>The biota tibble only contains data for sampling stations that had animals. To also include sampling stations where the selected species (or species group) was not found, the data ‘biota’ and ‘samples’ need to be merged. The function <em>sibes_merge</em> will merge (left_join) the data frames ‘samples’ and ‘biota’ contained in the list obtained with <em>sibes_load</em>. The list entry ‘samples’ is necessary for running this function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="va">data_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sibes_merge.html">sibes_merge</a></span><span class="op">(</span>Inputdata <span class="op">=</span> <span class="va">data_list</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="data-exploration">Data exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h1>
<p>Here, we provide a few examples exploring the data. First, select a subset of data. Second, explore the numbers of samples in the data set. Third, expolore changes over time in a trend plot. Fourth, map the distribution of biomass, abundance, etc.</p>
<div class="section level2">
<h2 id="spatiotemporal-selection">Spatiotemporal selection<a class="anchor" aria-label="anchor" href="#spatiotemporal-selection"></a>
</h2>
<p>Subset the merged dataset for a particular area, time period, and/or year.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## select data for particular tidal basins </span></span>
<span>    <span class="va">data_selected_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sibes_select.html">sibes_select</a></span><span class="op">(</span></span>
<span>                            data <span class="op">=</span> <span class="va">data_m</span>, </span>
<span>                            filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>                                <span class="st">"tidal_basin_name %in% c(\"Eierlandse Gat\",\"Vlie\")"</span> </span>
<span>                                        <span class="op">)</span></span>
<span>                                    <span class="op">)</span></span>
<span></span>
<span><span class="co">## select data for a sampling time period</span></span>
<span>    <span class="va">data_selected_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sibes_select.html">sibes_select</a></span><span class="op">(</span></span>
<span>                            data <span class="op">=</span> <span class="va">data_m</span>, </span>
<span>                            filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>                                    <span class="st">"between(</span></span>
<span><span class="st">                                        date,</span></span>
<span><span class="st">                                        as.Date(\"2008-01-01\",format=\"%Y-%m-%d\"),</span></span>
<span><span class="st">                                        as.Date(\"2021-10-26\",format=\"%Y-%m-%d\")</span></span>
<span><span class="st">                                            )"</span> </span>
<span>                                        <span class="op">)</span> </span>
<span>                                    <span class="op">)</span></span>
<span>                    </span>
<span><span class="co">## select data for range of sampling station ids and dates</span></span>
<span>    <span class="va">data_selected_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sibes_select.html">sibes_select</a></span><span class="op">(</span></span>
<span>                            data <span class="op">=</span> <span class="va">data_m</span>, </span>
<span>                            filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>                                    <span class="st">"between(sampling_station_id, 320,335)"</span>, </span>
<span>                                    <span class="st">"between(</span></span>
<span><span class="st">                                            date,</span></span>
<span><span class="st">                                            as.Date(\"2010-01-01\",format=\"%Y-%m-%d\"),</span></span>
<span><span class="st">                                            as.Date(\"2020-08-11\",format=\"%Y-%m-%d\")</span></span>
<span><span class="st">                                            )"</span>  </span>
<span>                                        <span class="op">)</span> </span>
<span>                                    <span class="op">)</span>   </span></code></pre></div>
</div>
<div class="section level2">
<h2 id="numbers-of-samples">Numbers of samples<a class="anchor" aria-label="anchor" href="#numbers-of-samples"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## get the number of samples per year in the selected data</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/data.table/man/IDateTime.html" class="external-link">year</a></span><span class="op">(</span><span class="va">data_selected_2</span><span class="op">$</span><span class="va">date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 </span></span>
<span><span class="co">#&gt; 3792 3989 3966 3846 3849 3839 4176 4137 4168 2831 2274 4203 2366 4415</span></span>
<span></span>
<span><span class="co">## get the number of times a station occurs in the selected data</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/data.table/man/IDateTime.html" class="external-link">year</a></span><span class="op">(</span><span class="va">data_selected_3</span><span class="op">$</span><span class="va">date</span><span class="op">)</span>,<span class="va">data_selected_3</span><span class="op">$</span><span class="va">sampling_station_id</span><span class="op">)</span></span>
<span><span class="co">#&gt;       </span></span>
<span><span class="co">#&gt;        320 321 322 324 325 326 327 328 329 330 331 332 333 334 335</span></span>
<span><span class="co">#&gt;   2010   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2011   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2012   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2013   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2014   1   1   1   1   1   1   1   1   1   0   0   1   1   1   1</span></span>
<span><span class="co">#&gt;   2015   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2016   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2017   0   0   0   0   1   1   1   1   0   1   1   0   0   1   1</span></span>
<span><span class="co">#&gt;   2018   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt;   2019   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1</span></span>
<span><span class="co">#&gt;   2020   1   1   1   1   0   0   0   0   0   1   0   1   0   1   0</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="trend-plot">Trend plot<a class="anchor" aria-label="anchor" href="#trend-plot"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## First, we need to average values per year</span></span>
<span>    <span class="va">data_selected_2_per_year</span> <span class="op">&lt;-</span> <span class="va">data_selected_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                                  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/data.table/man/IDateTime.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                                  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>abundance_m2 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">abundance_m2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## plot the trend</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">data_selected_2_per_year</span><span class="op">$</span><span class="va">`year(date)`</span>, </span>
<span>        <span class="va">data_selected_2_per_year</span><span class="op">$</span><span class="va">abundance_m2</span>,</span>
<span>        xlab <span class="op">=</span> <span class="st">"year"</span>, </span>
<span>        ylab <span class="op">=</span> <span class="st">"mean abundance"</span>, </span>
<span>        main<span class="op">=</span><span class="st">"trend plot"</span>,</span>
<span>        type<span class="op">=</span><span class="st">'o'</span>,</span>
<span>        pch<span class="op">=</span><span class="fl">16</span>, </span>
<span>        cex<span class="op">=</span><span class="fl">2</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Temporal%20plot-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="plot-map">Plot map<a class="anchor" aria-label="anchor" href="#plot-map"></a>
</h2>
<p>The function <em>sibes_plot_map</em> can be used for easy mapping. in tha plots, light grey areas show intertidal mudflats and dark grey areas show land.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Map distribution across whole SIBES-extent</span></span>
<span>    </span>
<span>    <span class="co">## before mapping, we need to average over years (or select one year to plot)</span></span>
<span>        <span class="va">data_selected_2_per_sampling_station_id</span> <span class="op">&lt;-</span> <span class="va">data_selected_2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sampling_station_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>                                            x <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, </span>
<span>                                            y <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                                            median_grain_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">median_grain_size</span><span class="op">)</span>,</span>
<span>                                            percentage_mud <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">percentage_mud</span><span class="op">)</span>,</span>
<span>                                            abundance_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">abundance_m2</span><span class="op">)</span>,</span>
<span>                                            afdm_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">afdm_m2</span><span class="op">)</span>,</span>
<span>                                            n_years <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span></span>
<span>                                                <span class="op">)</span></span>
<span></span>
<span>    <span class="co">## plot the number of years a station was sampled </span></span>
<span>        <span class="fu"><a href="reference/sibes_plot_map.html">sibes_plot_map</a></span><span class="op">(</span></span>
<span>            Inputdata <span class="op">=</span> <span class="va">data_selected_2_per_sampling_station_id</span>,</span>
<span>            attribute <span class="op">=</span> <span class="st">"n_years"</span>,</span>
<span>            ticks <span class="op">=</span> <span class="fl">10</span>,</span>
<span>            cex_map <span class="op">=</span> <span class="fl">0.25</span></span>
<span>            <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Map%20plot-1.png" width="100%"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="co">## plot median grain size </span></span>
<span>        <span class="fu"><a href="reference/sibes_plot_map.html">sibes_plot_map</a></span><span class="op">(</span></span>
<span>            Inputdata <span class="op">=</span> <span class="va">data_selected_2_per_sampling_station_id</span>,</span>
<span>            attribute <span class="op">=</span> <span class="st">"median_grain_size"</span>,</span>
<span>            ticks <span class="op">=</span> <span class="fl">10</span>,</span>
<span>            cex_map <span class="op">=</span> <span class="fl">0.2</span></span>
<span>            <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Map%20plot-2.png" width="100%"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="co">## plot afdm  </span></span>
<span>        <span class="fu"><a href="reference/sibes_plot_map.html">sibes_plot_map</a></span><span class="op">(</span></span>
<span>            Inputdata <span class="op">=</span> <span class="va">data_selected_2_per_sampling_station_id</span>,</span>
<span>            attribute <span class="op">=</span> <span class="st">"percentage_mud"</span>,</span>
<span>            ticks <span class="op">=</span> <span class="fl">10</span>,</span>
<span>            cex_map <span class="op">=</span> <span class="fl">0.2</span></span>
<span>            <span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Map%20plot-3.png" width="100%"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co">## Map distribution on a selection of tidal basins</span></span>
<span>    <span class="co">## first the selected data need to be grouped </span></span>
<span>        <span class="va">data_selected_1_per_sampling_station_id</span> <span class="op">&lt;-</span> <span class="va">data_selected_1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sampling_station_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>                                            x <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, </span>
<span>                                            y <span class="op">=</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                                            median_grain_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">median_grain_size</span><span class="op">)</span>,</span>
<span>                                            percentage_mud <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">percentage_mud</span><span class="op">)</span>,</span>
<span>                                            abundance_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">abundance_m2</span><span class="op">)</span>,</span>
<span>                                            afdm_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">afdm_m2</span><span class="op">)</span>,</span>
<span>                                            n_years <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span></span>
<span>                                                <span class="op">)</span></span>
<span>                                                </span>
<span>    <span class="co">## plot biomass</span></span>
<span>        <span class="fu"><a href="reference/sibes_plot_map.html">sibes_plot_map</a></span><span class="op">(</span></span>
<span>                Inputdata <span class="op">=</span> <span class="va">data_selected_1_per_sampling_station_id</span>,</span>
<span>                attribute <span class="op">=</span> <span class="st">"afdm_m2"</span>,</span>
<span>                ticks <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                cex_map <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>                cex_legend_labels <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Map%20plot-4.png" width="100%"></p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/allertbijleveld/SIBES/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/allertbijleveld/SIBES/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SIBES</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Allert Bijleveld <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3159-8944" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Amin Niamir <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1037-1978" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Léon Serre Fredj <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1037-1978" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Allert Bijleveld, Amin Niamir, Léon Serre Fredj.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
